#include <unistd.h>#include <stdio.h>#include "HDCamera.h"#define FILE_NAME		"/sdcard/idarling_update.img"static int p2p_callback(unsigned long handler,int command, char* param){	//printf();	return 0;}static int up_callback(int send, int total){	printf("send is %d, total is %d \n", send, total);	return 0;}static int OfflineCB(int offline){	printf("offline is %d \n", offline);	return 0;}int main(){		HD_Init("qpoiuytrewqlkjhgfdsazxcvbnmkoiuy", p2p_callback, OfflineCB);	while(1)	{		char c = getchar();		switch(c)		{			case 'a':			{				printf("aaaaaaaaaaaaaa\n");				FILE* fp = fopen(FILE_NAME, "r+");				printf("bbbbbbbbbbbbbb\n");				if(fp)				{					fseek(fp,0L,SEEK_END);					long size = ftell(fp);					fseek(fp,0L,SEEK_SET);					char* buf = (char*)malloc(size);					int n = fread(buf,1,size,fp);					printf("size is %ld, n = %d \n", size, n);					int ret = HD_UpdateIdarling(size, buf, up_callback);					printf("HD_UpdateIdarling ret %d\n", ret);				}				else{					printf("can not find file %s \n", FILE_NAME);				}				break;			}			default:				break;		}	}	return 0;}